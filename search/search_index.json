{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Django IP Access Middleware \u00b6 Welcome to the documentation for Django IP Access Middleware . This package provides IP and hostname-based access control for Django applications. It supports: IP addresses and CIDR ranges stored in the database Hostname matching via environment variables Same-network detection for Kubernetes and private networks Route-based access control with regex, exact, startswith, and endswith patterns Mixins and decorators for opt-in protection of specific views Use the navigation on the left to learn how to install, configure, and use the middleware in your project.","title":"Home"},{"location":"#django-ip-access-middleware","text":"Welcome to the documentation for Django IP Access Middleware . This package provides IP and hostname-based access control for Django applications. It supports: IP addresses and CIDR ranges stored in the database Hostname matching via environment variables Same-network detection for Kubernetes and private networks Route-based access control with regex, exact, startswith, and endswith patterns Mixins and decorators for opt-in protection of specific views Use the navigation on the left to learn how to install, configure, and use the middleware in your project.","title":"Django IP Access Middleware"},{"location":"api/","text":"API Reference \u00b6 This section gives a high-level overview of the main public interfaces. For full details, refer to the docstrings in the code. Middleware \u00b6 django_ip_access.middleware.IPAccessMiddleware Main middleware that performs IP and hostname checks for each request. Models \u00b6 django_ip_access.models.GrantedIP ip_address : IP address or CIDR range (e.g. 192.168.1.1 or 192.168.1.0/24 ). description : Optional description. is_active : Whether this entry is currently enforced. created_at , updated_at : Timestamps. Mixins \u00b6 django_ip_access.mixins.IPAccessMixin Mixin for Django class-based views and DRF views/viewsets. Optional attribute ip_access_route_config to customise route matching: pattern : string. type : \"regex\" | \"exact\" | \"startswith\" | \"endswith\" . Decorators \u00b6 django_ip_access.decorators.ip_access_required(route_config=None) Decorator for function-based views (including DRF FBVs). route_config has the same shape as ip_access_route_config on the mixin.","title":"API Reference"},{"location":"api/#api-reference","text":"This section gives a high-level overview of the main public interfaces. For full details, refer to the docstrings in the code.","title":"API Reference"},{"location":"api/#middleware","text":"django_ip_access.middleware.IPAccessMiddleware Main middleware that performs IP and hostname checks for each request.","title":"Middleware"},{"location":"api/#models","text":"django_ip_access.models.GrantedIP ip_address : IP address or CIDR range (e.g. 192.168.1.1 or 192.168.1.0/24 ). description : Optional description. is_active : Whether this entry is currently enforced. created_at , updated_at : Timestamps.","title":"Models"},{"location":"api/#mixins","text":"django_ip_access.mixins.IPAccessMixin Mixin for Django class-based views and DRF views/viewsets. Optional attribute ip_access_route_config to customise route matching: pattern : string. type : \"regex\" | \"exact\" | \"startswith\" | \"endswith\" .","title":"Mixins"},{"location":"api/#decorators","text":"django_ip_access.decorators.ip_access_required(route_config=None) Decorator for function-based views (including DRF FBVs). route_config has the same shape as ip_access_route_config on the mixin.","title":"Decorators"},{"location":"configuration/","text":"Configuration \u00b6 Route types \u00b6 Each route entry in IP_ACCESS_MIDDLEWARE_CONFIG[\"routes\"] has a pattern and type : regex : Match using regular expressions. exact : Exact path match. startswith : Match when the request path starts with the pattern. endswith : Match when the request path ends with the pattern. Environment variables \u00b6 ALLOWED_HOSTNAMES : Comma-separated list of allowed hostnames (supports wildcards like *.example.com,api.example.com ). POD_IP : Kubernetes pod IP (optional, for explicit network detection). KUBERNETES_NETWORK_RANGE : Kubernetes network range (e.g. 10.244.0.0/16 ). Same network detection \u00b6 The middleware can automatically detect when the client IP is on the same private network as the server: Detects private IPs on the same subnet. If same-network is detected, access is allowed with highest priority. Deny response behavior \u00b6 By default, when access is denied: For Django REST framework requests, a JSON response is returned. For regular Django requests, JSON is returned for XHR/JSON clients and an HTML response for browsers. You can override the deny handler by providing \"DENY_RESPONSE_HANDLER\": \"path.to.callable\" in IP_ACCESS_MIDDLEWARE_CONFIG . The callable should accept (request, reason) and return a Django HttpResponse (or DRF Response ).","title":"Configuration"},{"location":"configuration/#configuration","text":"","title":"Configuration"},{"location":"configuration/#route-types","text":"Each route entry in IP_ACCESS_MIDDLEWARE_CONFIG[\"routes\"] has a pattern and type : regex : Match using regular expressions. exact : Exact path match. startswith : Match when the request path starts with the pattern. endswith : Match when the request path ends with the pattern.","title":"Route types"},{"location":"configuration/#environment-variables","text":"ALLOWED_HOSTNAMES : Comma-separated list of allowed hostnames (supports wildcards like *.example.com,api.example.com ). POD_IP : Kubernetes pod IP (optional, for explicit network detection). KUBERNETES_NETWORK_RANGE : Kubernetes network range (e.g. 10.244.0.0/16 ).","title":"Environment variables"},{"location":"configuration/#same-network-detection","text":"The middleware can automatically detect when the client IP is on the same private network as the server: Detects private IPs on the same subnet. If same-network is detected, access is allowed with highest priority.","title":"Same network detection"},{"location":"configuration/#deny-response-behavior","text":"By default, when access is denied: For Django REST framework requests, a JSON response is returned. For regular Django requests, JSON is returned for XHR/JSON clients and an HTML response for browsers. You can override the deny handler by providing \"DENY_RESPONSE_HANDLER\": \"path.to.callable\" in IP_ACCESS_MIDDLEWARE_CONFIG . The callable should accept (request, reason) and return a Django HttpResponse (or DRF Response ).","title":"Deny response behavior"},{"location":"contributing/","text":"Contributing \u00b6 Contributions are welcome! Setup for local development \u00b6 Clone the repository and install dependencies (example using a virtualenv): python -m venv .venv source .venv/bin/activate pip install -e .[dev] Run tests: python manage.py test Working on documentation \u00b6 This project uses MkDocs for documentation. Install the docs tooling: pip install mkdocs mkdocs-material Serve the docs locally: mkdocs serve Then open http://127.0.0.1:8000/ in your browser. Submitting changes \u00b6 Fork the repository. Create a feature branch. Add or update tests and documentation where appropriate. Open a pull request with a clear description of your changes.","title":"Contributing"},{"location":"contributing/#contributing","text":"Contributions are welcome!","title":"Contributing"},{"location":"contributing/#setup-for-local-development","text":"Clone the repository and install dependencies (example using a virtualenv): python -m venv .venv source .venv/bin/activate pip install -e .[dev] Run tests: python manage.py test","title":"Setup for local development"},{"location":"contributing/#working-on-documentation","text":"This project uses MkDocs for documentation. Install the docs tooling: pip install mkdocs mkdocs-material Serve the docs locally: mkdocs serve Then open http://127.0.0.1:8000/ in your browser.","title":"Working on documentation"},{"location":"contributing/#submitting-changes","text":"Fork the repository. Create a feature branch. Add or update tests and documentation where appropriate. Open a pull request with a clear description of your changes.","title":"Submitting changes"},{"location":"installation/","text":"Installation & Setup \u00b6 Install the package \u00b6 Install the package from PyPI: pip install django-ip-access-middleware Or install from a local clone in editable mode: pip install -e . Add to INSTALLED_APPS \u00b6 In your Django settings.py : INSTALLED_APPS = [ # ... other apps \"django_ip_access\", ] Add the middleware \u00b6 Add the IP access middleware to your MIDDLEWARE list: MIDDLEWARE = [ # ... other middleware \"django_ip_access.middleware.IPAccessMiddleware\", # ... other middleware ] Run migrations \u00b6 Create and apply migrations for the GrantedIP model: python manage.py makemigrations django_ip_access python manage.py migrate django_ip_access","title":"Installation & Setup"},{"location":"installation/#installation-setup","text":"","title":"Installation &amp; Setup"},{"location":"installation/#install-the-package","text":"Install the package from PyPI: pip install django-ip-access-middleware Or install from a local clone in editable mode: pip install -e .","title":"Install the package"},{"location":"installation/#add-to-installed_apps","text":"In your Django settings.py : INSTALLED_APPS = [ # ... other apps \"django_ip_access\", ]","title":"Add to INSTALLED_APPS"},{"location":"installation/#add-the-middleware","text":"Add the IP access middleware to your MIDDLEWARE list: MIDDLEWARE = [ # ... other middleware \"django_ip_access.middleware.IPAccessMiddleware\", # ... other middleware ]","title":"Add the middleware"},{"location":"installation/#run-migrations","text":"Create and apply migrations for the GrantedIP model: python manage.py makemigrations django_ip_access python manage.py migrate django_ip_access","title":"Run migrations"},{"location":"release-notes/","text":"Release notes \u00b6 This page mirrors the project changelog. The canonical source is CHANGELOG.md at the root of the repository. [1.1.0] - 2025-12-15 \u00b6 Summary \u00b6 Adds opt-in IP/hostname access control for individual views via mixins and a decorator, with first-class support for Django REST framework, while remaining backwards compatible. Added \u00b6 IPAccessMixin in django_ip_access.mixins for protecting specific class-based views: Works with standard Django CBVs, DRF generic views, and DRF viewsets. Supports optional ip_access_route_config on the view to customize route matching (e.g. startswith , regex ). ip_access_required decorator in django_ip_access.decorators for: Django function-based views. DRF APIView methods (e.g. get , post ). New documentation examples demonstrating: Usage with Django CBVs. Usage with DRF generics, APIViews, and viewsets. Test coverage for: IPAccessMixin with allowed/denied IPs. ip_access_required on Django FBVs and DRF APIViews. Changed \u00b6 django_ip_access.__init__ now re-exports: IPAccessMixin from django_ip_access.mixins . ip_access_required from django_ip_access.decorators . Internal organization: decorators moved into a dedicated decorators.py module (no behavioral change). Fixed \u00b6 None. Notes \u00b6 This is a backwards-compatible minor release. Existing imports like from django_ip_access import ip_access_required continue to work. Recommended usage for new code: from django_ip_access.mixins import IPAccessMixin from django_ip_access.decorators import ip_access_required [1.0.4] - 2025-12-14 \u00b6 Initial public release of django-ip-access-middleware with: Middleware-based IP and hostname access control. Database-driven GrantedIP model. Kubernetes same-network detection. Route configuration via IP_ACCESS_MIDDLEWARE_CONFIG .","title":"Release notes"},{"location":"release-notes/#release-notes","text":"This page mirrors the project changelog. The canonical source is CHANGELOG.md at the root of the repository.","title":"Release notes"},{"location":"release-notes/#110-2025-12-15","text":"","title":"[1.1.0] - 2025-12-15"},{"location":"release-notes/#summary","text":"Adds opt-in IP/hostname access control for individual views via mixins and a decorator, with first-class support for Django REST framework, while remaining backwards compatible.","title":"Summary"},{"location":"release-notes/#added","text":"IPAccessMixin in django_ip_access.mixins for protecting specific class-based views: Works with standard Django CBVs, DRF generic views, and DRF viewsets. Supports optional ip_access_route_config on the view to customize route matching (e.g. startswith , regex ). ip_access_required decorator in django_ip_access.decorators for: Django function-based views. DRF APIView methods (e.g. get , post ). New documentation examples demonstrating: Usage with Django CBVs. Usage with DRF generics, APIViews, and viewsets. Test coverage for: IPAccessMixin with allowed/denied IPs. ip_access_required on Django FBVs and DRF APIViews.","title":"Added"},{"location":"release-notes/#changed","text":"django_ip_access.__init__ now re-exports: IPAccessMixin from django_ip_access.mixins . ip_access_required from django_ip_access.decorators . Internal organization: decorators moved into a dedicated decorators.py module (no behavioral change).","title":"Changed"},{"location":"release-notes/#fixed","text":"None.","title":"Fixed"},{"location":"release-notes/#notes","text":"This is a backwards-compatible minor release. Existing imports like from django_ip_access import ip_access_required continue to work. Recommended usage for new code: from django_ip_access.mixins import IPAccessMixin from django_ip_access.decorators import ip_access_required","title":"Notes"},{"location":"release-notes/#104-2025-12-14","text":"Initial public release of django-ip-access-middleware with: Middleware-based IP and hostname access control. Database-driven GrantedIP model. Kubernetes same-network detection. Route configuration via IP_ACCESS_MIDDLEWARE_CONFIG .","title":"[1.0.4] - 2025-12-14"},{"location":"usage/","text":"Usage \u00b6 Protecting routes via middleware configuration \u00b6 Configure which routes should be protected in your settings.py using IP_ACCESS_MIDDLEWARE_CONFIG : import os IP_ACCESS_MIDDLEWARE_CONFIG = { \"DENY_MESSAGE\": \"Access denied\", \"DENY_STATUS_CODE\": 403, # \"DENY_RESPONSE_HANDLER\": \"myapp.security.custom_deny_handler\", # optional \"routes\": [ { \"pattern\": r\"^/admin/.*\", \"type\": \"regex\", }, { \"pattern\": \"/api/\", \"type\": \"startswith\", }, { \"pattern\": \".json\", \"type\": \"endswith\", }, { \"pattern\": \"/api/secure/\", \"type\": \"exact\", }, ], \"kubernetes_network_range\": os.getenv(\"KUBERNETES_NETWORK_RANGE\", \"\"), \"pod_ip\": os.getenv(\"POD_IP\", \"\"), } ALLOWED_HOSTNAMES_ENV = os.getenv(\"ALLOWED_HOSTNAMES\", \"\") Managing granted IPs \u00b6 Use the Django admin or the GrantedIP model to define allowed IPs: from django_ip_access.models import GrantedIP # Single IP GrantedIP.objects.create( ip_address=\"192.168.1.100\", description=\"Development server\", is_active=True, ) # CIDR range GrantedIP.objects.create( ip_address=\"10.0.0.0/24\", description=\"Internal network\", is_active=True, ) Opt-in protection with mixins and decorators \u00b6 Class-based views \u00b6 from django.views.generic import TemplateView from django_ip_access.mixins import IPAccessMixin class SecureDashboardView(IPAccessMixin, TemplateView): template_name = \"secure_dashboard.html\" # Optional: customise route matching # ip_access_route_config = { # \"pattern\": \"/dashboard/\", # \"type\": \"startswith\", # } Function-based views \u00b6 from django_ip_access.decorators import ip_access_required @ip_access_required() def secure_view(request): ... @ip_access_required(route_config={\"pattern\": \"/api/\", \"type\": \"startswith\"}) def secure_api_view(request): ...","title":"Usage"},{"location":"usage/#usage","text":"","title":"Usage"},{"location":"usage/#protecting-routes-via-middleware-configuration","text":"Configure which routes should be protected in your settings.py using IP_ACCESS_MIDDLEWARE_CONFIG : import os IP_ACCESS_MIDDLEWARE_CONFIG = { \"DENY_MESSAGE\": \"Access denied\", \"DENY_STATUS_CODE\": 403, # \"DENY_RESPONSE_HANDLER\": \"myapp.security.custom_deny_handler\", # optional \"routes\": [ { \"pattern\": r\"^/admin/.*\", \"type\": \"regex\", }, { \"pattern\": \"/api/\", \"type\": \"startswith\", }, { \"pattern\": \".json\", \"type\": \"endswith\", }, { \"pattern\": \"/api/secure/\", \"type\": \"exact\", }, ], \"kubernetes_network_range\": os.getenv(\"KUBERNETES_NETWORK_RANGE\", \"\"), \"pod_ip\": os.getenv(\"POD_IP\", \"\"), } ALLOWED_HOSTNAMES_ENV = os.getenv(\"ALLOWED_HOSTNAMES\", \"\")","title":"Protecting routes via middleware configuration"},{"location":"usage/#managing-granted-ips","text":"Use the Django admin or the GrantedIP model to define allowed IPs: from django_ip_access.models import GrantedIP # Single IP GrantedIP.objects.create( ip_address=\"192.168.1.100\", description=\"Development server\", is_active=True, ) # CIDR range GrantedIP.objects.create( ip_address=\"10.0.0.0/24\", description=\"Internal network\", is_active=True, )","title":"Managing granted IPs"},{"location":"usage/#opt-in-protection-with-mixins-and-decorators","text":"","title":"Opt-in protection with mixins and decorators"},{"location":"usage/#class-based-views","text":"from django.views.generic import TemplateView from django_ip_access.mixins import IPAccessMixin class SecureDashboardView(IPAccessMixin, TemplateView): template_name = \"secure_dashboard.html\" # Optional: customise route matching # ip_access_route_config = { # \"pattern\": \"/dashboard/\", # \"type\": \"startswith\", # }","title":"Class-based views"},{"location":"usage/#function-based-views","text":"from django_ip_access.decorators import ip_access_required @ip_access_required() def secure_view(request): ... @ip_access_required(route_config={\"pattern\": \"/api/\", \"type\": \"startswith\"}) def secure_api_view(request): ...","title":"Function-based views"}]}